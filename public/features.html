<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta content="text/html;charset=utf-8"/><title>Cucumber</title><style type="text/css">

.cucumber {
  font-family: &quot;Lucida Grande&quot;, Helvetica, sans-serif;
  font-size: 0.7em;
  background: white;
  padding: 1em;
}
.cucumber h1, .cucumber h2, .cucumber h3, .cucumber h4, .cucumber ol, .cucumber li, .cucumber pre, .cucumber p {
  font-size: 1em;
  padding: 0px;
  margin: 0px;
}
.cucumber div.feature {
  border: 1px solid;
  padding: 2px;
  margin: 4px;
}
.cucumber div.feature div.background, .cucumber div.feature div.scenario, .cucumber div.feature p {
  padding: 0em 0em 0em 1em;
}
.cucumber div.feature div.background div.examples, .cucumber div.feature div.scenario div.examples, .cucumber div.feature p div.examples {
  padding: 0em 0em 0em 1em;
}
.cucumber .stats {
  margin: 2em;
}
.cucumber .summary ul.features li {
  display: inline;
}
.cucumber .backtrace {
  margin-top: 0;
  margin-bottom: 0;
  margin-left: 1em;
}
.cucumber a {
  text-decoration: none;
  color: inherit;
}
.cucumber a:hover {
  text-decoration: underline;
}
.cucumber a:visited {
  font-weight: normal;
}
.cucumber a div.examples {
  border: 1px solid;
  padding: 2px;
  margin: 4px;
}
.cucumber table {
  border-collapse: collapse;
}
.cucumber table td, .cucumber table th {
  font-size: 0.7em;
  border: 1px solid #AAAAAA;
}
.cucumber table td.failed {
  background: #FFC0CB;
  color: #8B0000;
}
.cucumber table td.passed {
  background: #98FB98;
  color: #001111;
}
.cucumber table td.skipped {
  background: #e0ffff;
  color: #001111;
}
.cucumber table td.pending {
  background: #FFFFE0;
  color: #111100;
}
.cucumber table td.undefined {
  background: #FFFFE0;
  color: #111100;
}
.cucumber ol {
  list-style: none;
}
.cucumber ol li {
  margin: 0em 0em 0em 1em;
  padding: 0em 0em 0em 0.2em;
}
.cucumber ol li span.param {
  font-weight: bold;
}
.cucumber ol li.failed {
  border-left: 5px solid #ff0000;
  border-bottom: 1px solid #ff0000;
  background: #ffc0cb;
  color: #8b0000;
}
.cucumber ol li.failed span.param {
  background: !failed_dark;
}
.cucumber ol li.passed {
  border-left: 5px solid #00ff00;
  border-bottom: 1px solid #00ff00;
  background: #98fb98;
  color: #001111;
}
.cucumber ol li.passed span.param {
  background: #00ff00;
}
.cucumber ol li.skipped {
  border-left: 5px solid #00ffff;
  border-bottom: 1px solid #00ffff;
  background: #e0ffff;
  color: #001111;
}
.cucumber ol li.skipped span.param {
  background: #00ffff;
}
.cucumber ol li.pending {
  border-left: 5px solid #ff8000;
  border-bottom: 1px solid #ff8000;
  background: #ffff00;
  color: #2a1b0a;
}
.cucumber ol li.pending span.param {
  background: #ff8000;
}
.cucumber ol li.undefined {
  border-left: 5px solid #ff8000;
  border-bottom: 1px solid #ff8000;
  background: #ffff00;
  color: #2a1b0a;
}
.cucumber ol li.undefined span.param {
  background: #ff8000;
}
</style></head><body><div class="cucumber"><div class="feature"><h2><span class="val">Feature: Authentication</span></h2><p class="narrative">In order to keep the company books in order<br/>As a user<br/>I want to authenticate myself<br/></p><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Log in</span></h3><ol><li class="step passed" id="features_001_authentication_feature_7"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a user: &quot;bookkeeper&quot;</span> exists with <span class="param">login: &quot;bookkeeper&quot;, password: &quot;secret&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_8"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/user_session/new&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_9"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Username</span>&quot; with &quot;<span class="param">bookkeeper</span>&quot;</span></div></li><li class="step passed" id="features_001_authentication_feature_10"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Password</span>&quot; with &quot;<span class="param">secret</span>&quot;</span></div></li><li class="step passed" id="features_001_authentication_feature_11"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Log in</span>&quot;</span></div></li><li class="step passed" id="features_001_authentication_feature_12"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">You are logged in</span>&quot; within &quot;<span class="param">#flash_notice</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Require login on list of accounts</span></h3><ol><li class="step passed" id="features_001_authentication_feature_15"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/accounts&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_16"><div><span class="keyword">Then</span> <span class="step val">I should be on <span class="param">path &quot;/user_session/new&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Require login on list of contacts</span></h3><ol><li class="step passed" id="features_001_authentication_feature_19"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/contacts&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_20"><div><span class="keyword">Then</span> <span class="step val">I should be on <span class="param">path &quot;/user_session/new&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Require login on list of ledger items</span></h3><ol><li class="step passed" id="features_001_authentication_feature_23"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_24"><div><span class="keyword">Then</span> <span class="step val">I should be on <span class="param">path &quot;/user_session/new&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Require login on list of mappings</span></h3><ol><li class="step passed" id="features_001_authentication_feature_27"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/mappings&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_28"><div><span class="keyword">Then</span> <span class="step val">I should be on <span class="param">path &quot;/user_session/new&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Require login on list of rules</span></h3><ol><li class="step passed" id="features_001_authentication_feature_31"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/accounts/1/rules&quot;</span></span></div></li><li class="step passed" id="features_001_authentication_feature_32"><div><span class="keyword">Then</span> <span class="step val">I should be on <span class="param">path &quot;/user_session/new&quot;</span></span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Default Ledger</span></h2><p class="narrative">In order to keep the company books in order<br/>As a user<br/>I want to have a default ledger<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_002_default_ledger_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">List root accounts</span></h3><ol><li class="step passed" id="features_002_default_ledger_feature_10"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account: &quot;Assets&quot;</span> exist with <span class="param">name: &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_002_default_ledger_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account: &quot;Liabilities&quot;</span> exist with <span class="param">name: &quot;Liabilities&quot;</span></span></div></li><li class="step passed" id="features_002_default_ledger_feature_12"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account: &quot;Equity&quot;</span> exist with <span class="param">name: &quot;Equity&quot;</span></span></div></li><li class="step passed" id="features_002_default_ledger_feature_13"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account: &quot;Income&quot;</span> exist with <span class="param">name: &quot;Income&quot;</span></span></div></li><li class="step passed" id="features_002_default_ledger_feature_14"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account: &quot;Expenses&quot;</span> exist with <span class="param">name: &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_002_default_ledger_feature_15"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/accounts&quot;</span></span></div></li><li class="step passed" id="features_002_default_ledger_feature_16"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Assets</span>&quot; within &quot;<span class="param">#main ul</span>&quot;</span></div></li><li class="step passed" id="features_002_default_ledger_feature_17"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Liabilities</span>&quot; within &quot;<span class="param">#main ul</span>&quot;</span></div></li><li class="step passed" id="features_002_default_ledger_feature_18"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Equity</span>&quot; within &quot;<span class="param">#main ul</span>&quot;</span></div></li><li class="step passed" id="features_002_default_ledger_feature_19"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Income</span>&quot; within &quot;<span class="param">#main ul</span>&quot;</span></div></li><li class="step passed" id="features_002_default_ledger_feature_20"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Expenses</span>&quot; within &quot;<span class="param">#main ul</span>&quot;</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Manage Accounts</span></h2><p class="narrative">In order to keep the company in order<br/>As a user<br/>I want to be able to create and manage accounts<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_003_accounts_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_003_accounts_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Create an account</span></h3><ol><li class="step passed" id="features_003_accounts_feature_11"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">path &quot;/accounts&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_12"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">New Account</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_13"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Name</span>&quot; with &quot;<span class="param">Current Assets</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_14"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Assets</span>&quot; from &quot;<span class="param">Parent</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_15"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_16"><div><span class="keyword">Then</span> <span class="step val"><span class="param">an account</span> should exist with <span class="param">name: &quot;Current Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_17"><div><span class="keyword">And</span> <span class="step val"><span class="param">that account</span> should be one of <span class="param">account &quot;Assets&quot;</span>'s <span class="param">children</span></span></div></li><li class="step passed" id="features_003_accounts_feature_18"><div><span class="keyword">And</span> <span class="step val">I should be on <span class="param">the show page for that account</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Rename an existing account</span></h3><ol><li class="step passed" id="features_003_accounts_feature_21"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account &quot;Current Assets&quot;</span> exists with <span class="param">name: &quot;Current Assets&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_22"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">the show page for account &quot;Current Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_23"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Edit</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_24"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Name</span>&quot; with &quot;<span class="param">Fixed Assets</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_25"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_26"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Assets &gt; Fixed Assets</span>&quot; within &quot;<span class="param">#main h1</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_27"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account</span> should exist with <span class="param">name: &quot;Fixed Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_28"><div><span class="keyword">And</span> <span class="step val"><span class="param">that account</span> should be one of <span class="param">account &quot;Assets&quot;</span>'s <span class="param">children</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Do not have option to set parent of account to itself or its descendants</span></h3><ol><li class="step passed" id="features_003_accounts_feature_31"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account &quot;Current Assets&quot;</span> exists with <span class="param">name: &quot;Current Assets&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_32"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">the show page for account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_33"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Edit</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_34"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Liabilities</span>&quot; within &quot;<span class="param">#account_parent_id</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_35"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Assets</span>&quot; within &quot;<span class="param">#account_parent_id</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_36"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Current Assets</span>&quot; within &quot;<span class="param">#account_parent_id</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Cannot create two accounts with identical names under the same parent</span></h3><ol><li class="step passed" id="features_003_accounts_feature_39"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account &quot;Current Assets&quot;</span> exists with <span class="param">name: &quot;Current Assets&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_40"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">path &quot;/accounts&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_41"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">New Account</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_42"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Name</span>&quot; with &quot;<span class="param">Current Assets</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_43"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Assets</span>&quot; from &quot;<span class="param">parent</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_44"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_45"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">has already been taken</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Delete an account with no children</span></h3><ol><li class="step passed" id="features_003_accounts_feature_48"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account &quot;Current Assets&quot;</span> exists with <span class="param">name: &quot;Current Assets&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_49"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">the show page for account &quot;Current Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_50"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Delete</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_51"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Successfully deleted account</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_52"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account</span> should not exist with <span class="param">name: &quot;Current Assets&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Cannot Delete an account that has children</span></h3><ol><li class="step passed" id="features_003_accounts_feature_55"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account &quot;Current Assets&quot;</span> exists with <span class="param">name: &quot;Current Assets&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_56"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">the show page for account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_57"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Delete</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_58"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Cannot delete account because it has descendants</span>&quot; within &quot;<span class="param">#flash_error</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_59"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account</span> should exist with <span class="param">name: &quot;Current Assets&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Cannot Delete an account that has ledger items</span></h3><ol><li class="step passed" id="features_003_accounts_feature_62"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">account: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_63"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">the show page for account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_64"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Delete</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_65"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Cannot delete account because it has dependants</span>&quot; within &quot;<span class="param">#flash_error</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_66"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account</span> should exist with <span class="param">name: &quot;Assets&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Create new subaccount from show page of an account</span></h3><ol><li class="step passed" id="features_003_accounts_feature_69"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">the show page for account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_70"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">New</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_71"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Name</span>&quot; with &quot;<span class="param">Current Assets</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_72"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_003_accounts_feature_73"><div><span class="keyword">Then</span> <span class="step val"><span class="param">an account</span> should exist with <span class="param">name: &quot;Current Assets&quot;</span></span></div></li><li class="step passed" id="features_003_accounts_feature_74"><div><span class="keyword">And</span> <span class="step val"><span class="param">that account</span> should be one of <span class="param">account &quot;Assets&quot;</span>'s <span class="param">children</span></span></div></li><li class="step passed" id="features_003_accounts_feature_75"><div><span class="keyword">And</span> <span class="step val">I should be on <span class="param">the show page for that account</span></span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Manage Contacts</span></h2><p class="narrative">In order to keep the company in order<br/>As a user<br/>I want to be able to create and manage parties with whom I transact<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_004_contacts_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Create a contact</span></h3><ol><li class="step passed" id="features_004_contacts_feature_10"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">the path &quot;/contacts/new&quot;</span></span></div></li><li class="step passed" id="features_004_contacts_feature_11"><div><span class="keyword">When</span> <span class="step val">I fill in &quot;<span class="param">Name</span>&quot; with &quot;<span class="param">Vendor</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_12"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_13"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Successfully created contact</span>&quot; within &quot;<span class="param">#flash_notice</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_14"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Vendor</span>&quot; within &quot;<span class="param">#main h1</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_15"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact</span> should exist with <span class="param">name: &quot;Vendor&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Cannot delete a contact who is the sender of a ledger item</span></h3><ol><li class="step passed" id="features_004_contacts_feature_18"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a contact &quot;Vendor&quot;</span> exists</span></div></li><li class="step passed" id="features_004_contacts_feature_19"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item &quot;Transaction&quot;</span> exists with <span class="param">sender: contact &quot;Vendor&quot;</span></span></div></li><li class="step passed" id="features_004_contacts_feature_20"><div><span class="keyword">When</span> <span class="step val">I am on <span class="param">the show page for contact &quot;Vendor&quot;</span></span></div></li><li class="step passed" id="features_004_contacts_feature_21"><div><span class="keyword">And</span> <span class="step val">I follow &quot;<span class="param">Delete</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_22"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Cannot delete contact because she has dependants</span>&quot; within &quot;<span class="param">#flash_error</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_23"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Vendor&quot;</span> should exist</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Cannot delete a contact who is the recipient of a ledger item</span></h3><ol><li class="step passed" id="features_004_contacts_feature_26"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> exists</span></div></li><li class="step passed" id="features_004_contacts_feature_27"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item &quot;Transaction&quot;</span> exists with <span class="param">recipient: contact &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_004_contacts_feature_28"><div><span class="keyword">When</span> <span class="step val">I am on <span class="param">the show page for contact &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_004_contacts_feature_29"><div><span class="keyword">And</span> <span class="step val">I follow &quot;<span class="param">Delete</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_30"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Cannot delete contact because she has dependants</span>&quot; within &quot;<span class="param">#flash_error</span>&quot;</span></div></li><li class="step passed" id="features_004_contacts_feature_31"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> should exist</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Search Ledger Items</span></h2><p class="narrative">In order to keep the company in order<br/>As a user<br/>I want to be able to search ledger items<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_005_ledger_items_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_005_ledger_items_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_005_ledger_items_feature_9"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Bank A/C&quot;</span> exists with <span class="param">name: &quot;Bank A/C&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_10"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Coffee&quot;</span> exists with <span class="param">name: &quot;Coffee&quot;, parent: account &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">description: &quot;Coffee&quot;, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, transacted_on: &quot;1/1/2009&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_12"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">description: &quot;Hot Chocolate&quot;, total_amount: &quot;3.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, transacted_on: &quot;1/2/2009&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_13"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">description: &quot;Tea&quot;, identifier: &quot;Foo bar&quot;, total_amount: &quot;1.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, transacted_on: &quot;1/3/2009&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_14"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">description: &quot;Something purchased&quot;, total_amount: &quot;-10&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, transacted_on: &quot;1/4/2009&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Search by description</span></h3><ol><li class="step passed" id="features_005_ledger_items_feature_17"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">the path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_18"><div><span class="keyword">When</span> <span class="step val">I fill in &quot;<span class="param">query</span>&quot; with &quot;<span class="param">Coffee</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_19"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Search</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_20"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Coffee</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_21"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Tea</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Search by account type</span></h3><ol><li class="step passed" id="features_005_ledger_items_feature_24"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">the path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_25"><div><span class="keyword">When</span> <span class="step val">I select &quot;<span class="param">Bank A/C</span>&quot; from &quot;<span class="param">account</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_26"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Search</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_27"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Something purchased</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_28"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Coffee</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_29"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Tea</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Search unmatched only</span></h3><ol><li class="step passed" id="features_005_ledger_items_feature_32"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">description: &quot;Foo&quot;, match_id: &quot;1&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_33"><div><span class="keyword">And</span> <span class="step val">I am on <span class="param">the path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_005_ledger_items_feature_34"><div><span class="keyword">When</span> <span class="step val">I check &quot;<span class="param">unmatched</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_35"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Search</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_36"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Coffee</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li><li class="step passed" id="features_005_ledger_items_feature_37"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Foo</span>&quot; within &quot;<span class="param">table</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Search after a date
</span></h3><ol></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Search prior to a date
</span></h3><ol></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Search between two dates</span></h3><ol></ol></div></div><div class="feature"><h2><span class="val">Feature: Rules</span></h2><p class="narrative">In order to keep the company in order<br/>As a user<br/>I want to be able to manage rules that match ledger items<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_006_rules_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_006_rules_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_006_rules_feature_9"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Bank A/C&quot;</span> exists with <span class="param">name: &quot;Bank A/C&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_006_rules_feature_10"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> exists with <span class="param">name: &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_006_rules_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Other&quot;</span> exists with <span class="param">name: &quot;Other&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Set up a match rule</span></h3><ol><li class="step passed" id="features_006_rules_feature_14"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">the show page for account &quot;Bank A/C&quot;</span></span></div></li><li class="step passed" id="features_006_rules_feature_15"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Rules</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_16"><div><span class="keyword">And</span> <span class="step val">I follow &quot;<span class="param">New rule</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_17"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Regexp</span>&quot; with &quot;<span class="param">Consumption</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_18"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">No</span>&quot; from &quot;<span class="param">Debit</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_19"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Self</span>&quot; from &quot;<span class="param">Sender</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_20"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Other</span>&quot; from &quot;<span class="param">Recipient</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_21"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Expenses</span>&quot; from &quot;<span class="param">Matching account</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_22"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_23"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Successfully created rule</span>&quot; within &quot;<span class="param">#flash_notice</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_24"><div><span class="keyword">And</span> <span class="step val"><span class="param">a rule</span> should exist with <span class="param">regexp: &quot;Consumption&quot;, account: account &quot;Bank A/C&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Match an existing rule when set up</span></h3><ol><li class="step passed" id="features_006_rules_feature_27"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a rule</span> exists with <span class="param">account: account &quot;Bank A/C&quot;, regexp: &quot;Consumption&quot;, debit: false, sender: contact &quot;Self&quot;, recipient: contact &quot;Other&quot;, matching_account: account &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_006_rules_feature_28"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">the show page for account &quot;Bank A/C&quot;</span></span></div></li><li class="step passed" id="features_006_rules_feature_29"><div><span class="keyword">And</span> <span class="step val">I follow &quot;<span class="param">View ledger items</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_30"><div><span class="keyword">And</span> <span class="step val">I follow &quot;<span class="param">New ledger item</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_31"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Self</span>&quot; from &quot;<span class="param">ledger_items_0_sender_id</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_32"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Other</span>&quot; from &quot;<span class="param">ledger_items_0_recipient_id</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_33"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">ledger_items_0_total_amount</span>&quot; with &quot;<span class="param">-20</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_34"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">USD</span>&quot; from &quot;<span class="param">ledger_items_0_currency</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_35"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">ledger_items_0_description</span>&quot; with &quot;<span class="param">Consumption</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_36"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_006_rules_feature_37"><div><span class="keyword">Then</span> <span class="step val"><span class="param">1</span> <span class="param">matches</span> should exist</span></div></li><li class="step passed" id="features_006_rules_feature_38"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> should exist with <span class="param">sender: contact &quot;Other&quot;, recipient: contact &quot;Self&quot;, total_amount: 20, account: account &quot;Expenses&quot;</span></span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Mappings</span></h2><p class="narrative">In order to keep the company in order<br/>As a bookkeeper<br/>I want to be able to define mappings for file imports<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_007_mappings_feature_7"><div><span class="keyword">Given</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_007_mappings_feature_8"><div><span class="keyword">And</span> <span class="step val">I am logged in</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Import Ledger Items</span></h2><p class="narrative">In order to add ledger items quickly<br/>As a bookkeeper<br/>I want to be able to import them from a CSV file<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_008_importing_ledger_items_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_9"><div><span class="keyword">Given</span> <span class="step val"><span class="param">an account &quot;AMEX&quot;</span> exists with <span class="param">name: &quot;AMEX&quot;, parent: account &quot;Liabilities&quot;</span></span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_10"><div><span class="keyword">And</span> <span class="step val">the following <span class="param">mappings</span> exist</span></div><table><tr id="row_11"><td class="val" id="row_11_0">name</td><td class="val" id="row_11_1">currency</td><td class="val" id="row_11_2">date_row</td><td class="val" id="row_11_3">total_amount_row</td><td class="val" id="row_11_4">description_row</td><td class="val" id="row_11_5">identifier_row</td><td class="val" id="row_11_6">has_title_row</td><td class="val" id="row_11_7">day_follows_month</td><td class="val" id="row_11_8">reverses_sign</td></tr><tr id="row_12"><td class="val" id="row_12_0">Amex, UK</td><td class="val" id="row_12_1">GBP</td><td class="val" id="row_12_2">1</td><td class="val" id="row_12_3">3</td><td class="val" id="row_12_4">4</td><td class="val" id="row_12_5">2</td><td class="val" id="row_12_6">false</td><td class="val" id="row_12_7">false</td><td class="val" id="row_12_8">true</td></tr></table></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Attempt to import a CSV with an incorrect ending balance</span></h3><ol><li class="step passed" id="features_008_importing_ledger_items_feature_15"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_16"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Import Ledger Items</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_17"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">AMEX</span>&quot; from &quot;<span class="param">Account</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_18"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Ending Balance</span>&quot; with &quot;<span class="param">0</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_19"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Amex, UK</span>&quot; from &quot;<span class="param">Mapping</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_20"><div><span class="keyword">And</span> <span class="step val">I attach the file at &quot;<span class="param">spec/fixtures/amex-uk-sample.csv</span>&quot; to &quot;<span class="param">File</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_21"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Upload file</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_22"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Import failed</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_23"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Ending balance of 6587.42 did not match expected balance of 0</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Attempt to import a CSV with an incorrect ending balance</span></h3><ol><li class="step passed" id="features_008_importing_ledger_items_feature_26"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_27"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">Import Ledger Items</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_28"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">AMEX</span>&quot; from &quot;<span class="param">Account</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_29"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Ending Balance</span>&quot; with &quot;<span class="param">6587.42</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_30"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Amex, UK</span>&quot; from &quot;<span class="param">Mapping</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_31"><div><span class="keyword">And</span> <span class="step val">I attach the file at &quot;<span class="param">spec/fixtures/amex-uk-sample.csv</span>&quot; to &quot;<span class="param">File</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_32"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Upload file</span>&quot;</span></div></li><li class="step passed" id="features_008_importing_ledger_items_feature_33"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">265 ledger items imported</span>&quot;</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Match Existing Ledger Items</span></h2><p class="narrative">In order to keep the company in order<br/>As a user<br/>I want to be able to reconcile by matching existing ledger items<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_0091_match_existing_ledger_items_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_9"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Bank A/C&quot;</span> exists with <span class="param">name: &quot;Bank A/C&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_10"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Coffee&quot;</span> exists with <span class="param">name: &quot;Coffee&quot;, parent: account &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> exists with <span class="param">name: &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_12"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Starbucks&quot;</span> exists with <span class="param">name: &quot;Starbucks&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">View matched ledger items</span></h3><ol><li class="step passed" id="features_0091_match_existing_ledger_items_feature_15"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a match</span> exists</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_16"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">total_amount: &quot;-2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;, match: the match</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_17"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, sender: contact &quot;Starbucks&quot;, recipient: contact &quot;Self&quot;, match: the match</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_18"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_19"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">View matches</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_20"><div><span class="keyword">When</span> <span class="step val">I follow &quot;<span class="param">View matches</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_21"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">$2.99</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_22"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">- $2.99</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_23"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Coffee</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_24"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Bank A/C</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_25"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Self</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_26"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Starbucks</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Match two ledger items and reconcile</span></h3><ol><li class="step passed" id="features_0091_match_existing_ledger_items_feature_30"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 1, total_amount: &quot;-2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_31"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 2, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, sender: contact &quot;Starbucks&quot;, recipient: contact &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_32"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_33"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_34"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">- $2.99</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_35"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Bank A/C</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_36"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Reconcile</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_37"><div><span class="keyword">And</span> <span class="step val">I should not see a button called &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_38"><div><span class="keyword">When</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_2</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_39"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">$2.99</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_40"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Coffee</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_41"><div><span class="keyword">When</span> <span class="step val">I press &quot;<span class="param">Reconcile</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_42"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Ledger items successfully reconciled</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_43"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Matches</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Match three ledger items and reconcile</span></h3><ol><li class="step passed" id="features_0091_match_existing_ledger_items_feature_46"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 1, total_amount: &quot;-5.98&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_47"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 2, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, sender: contact &quot;Starbucks&quot;, recipient: contact &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_48"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 3, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, sender: contact &quot;Starbucks&quot;, recipient: contact &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_49"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_50"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_51"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_2</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_52"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_3</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_53"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">$2.99</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_54"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Coffee</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_55"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">- $5.98</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_56"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">Bank A/C</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_57"><div><span class="keyword">When</span> <span class="step val">I press &quot;<span class="param">Reconcile</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_58"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Ledger items successfully reconciled</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_59"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Matches</span>&quot;</span></div></li></ol></div><div class="scenario"><span class="tag">@tag</span><h3><span class="keyword">Scenario:</span> <span class="val">Fail to edit a ledger item that is matched</span></h3><ol><li class="step passed" id="features_0091_match_existing_ledger_items_feature_62"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a match</span> exists</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_63"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 1, total_amount: &quot;-2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;, match: the match</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_64"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 2, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, sender: contact &quot;Starbucks&quot;, recipient: contact &quot;Self&quot;, match: the match</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_65"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items/1/edit&quot;</span></span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_66"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">ledger_items_0_total_amount</span>&quot; with &quot;<span class="param">1</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_67"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_0091_match_existing_ledger_items_feature_68"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Cannot edit total amount after reconciliation</span>&quot; within &quot;<span class="param">#flash_error</span>&quot;</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Match by Creating a New Ledger Item</span></h2><p class="narrative">In order to keep the company in order<br/>As a bookkeeper<br/>I want to be able to reconcile by matching a ledger item to a newly-created one<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_9"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Bank A/C&quot;</span> exists with <span class="param">name: &quot;Bank A/C&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_10"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Coffee&quot;</span> exists with <span class="param">name: &quot;Coffee&quot;, parent: account &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> exists with <span class="param">name: &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_12"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Starbucks&quot;</span> exists with <span class="param">name: &quot;Starbucks&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Create a matching item to balance the cart</span></h3><ol><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_15"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 1, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_16"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_17"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_18"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Coffee</span>&quot; from &quot;<span class="param">Account</span>&quot;</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_19"><div><span class="keyword">When</span> <span class="step val">I press &quot;<span class="param">Create match</span>&quot;</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_20"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Ledger item successfully reconciled</span>&quot;</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_21"><div><span class="keyword">And</span> <span class="step val">I should not see &quot;<span class="param">Matches</span>&quot;</span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Try to create a matching item when there is more than one transaction in the cart</span></h3><ol><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_24"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 1, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_25"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 2, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_26"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_27"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_28"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_2</span>&quot;</span></div></li><li class="step passed" id="features_0092_match_by_creating_new_ledger_items_feature_29"><div><span class="keyword">Then</span> <span class="step val">I should not see a button called &quot;<span class="param">Create match</span>&quot; within &quot;<span class="param">#cart</span>&quot;</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Match by Defining a Rule</span></h2><p class="narrative">In order to keep the company in order<br/>As a bookkeeper<br/>I want to be able to reconcile a ledger item by defining a rule that will match the item in question as well as other items that the rule matches<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_9"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Bank A/C&quot;</span> exists with <span class="param">name: &quot;Bank A/C&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_10"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Coffee&quot;</span> exists with <span class="param">name: &quot;Coffee&quot;, parent: account &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> exists with <span class="param">name: &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_12"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Starbucks&quot;</span> exists with <span class="param">name: &quot;Starbucks&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">Create a rule to balance the cart</span></h3><ol><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_15"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 1, total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;, description: &quot;Cappucino Coffee&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_16"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_17"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Match</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_18"><div><span class="keyword">And</span> <span class="step val">I follow &quot;<span class="param">Create rule</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_19"><div><span class="keyword">And</span> <span class="step val">I fill in &quot;<span class="param">Coffee</span>&quot; for &quot;<span class="param">Regexp</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_20"><div><span class="keyword">And</span> <span class="step val">I select &quot;<span class="param">Coffee</span>&quot; from &quot;<span class="param">Matching account</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_21"><div><span class="keyword">And</span> <span class="step val">I press &quot;<span class="param">Submit</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_22"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Successfully created rule</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_23"><div><span class="keyword">Given</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">id: 3, total_amount: &quot;3.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;, description: &quot;Latte Coffee&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_24"><div><span class="keyword">When</span> <span class="step val">I go to <span class="param">path &quot;/ledger_items&quot;</span></span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_25"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">View matches</span>&quot; within &quot;<span class="param">#ledger_item_1</span>&quot;</span></div></li><li class="step passed" id="features_0093_match_by_defining_a_rule_feature_26"><div><span class="keyword">And</span> <span class="step val">I should see &quot;<span class="param">View matches</span>&quot; within &quot;<span class="param">#ledger_item_3</span>&quot;</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Generate Income Statement</span></h2><p class="narrative">In order to keep the company in order<br/>As a bookkeeper<br/>I want to be able to generate income statements<br/></p><div class="background"><h3><span class="keyword">Background:</span> <span class="val"></span></h3><ol><li class="step passed" id="features_010_generate_income_statement_feature_7"><div><span class="keyword">Given</span> <span class="step val">I am logged in</span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_8"><div><span class="keyword">And</span> <span class="step val">I have a default ledger set up</span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_9"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Bank A/C&quot;</span> exists with <span class="param">name: &quot;Bank A/C&quot;, parent: account &quot;Assets&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_10"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Coffee&quot;</span> exists with <span class="param">name: &quot;Coffee&quot;, parent: account &quot;Expenses&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_11"><div><span class="keyword">And</span> <span class="step val"><span class="param">an account &quot;Sales&quot;</span> exists with <span class="param">name: &quot;Sales&quot;, parent: account &quot;Revenue&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_12"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Self&quot;</span> exists with <span class="param">name: &quot;Self&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_13"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Starbucks&quot;</span> exists with <span class="param">name: &quot;Starbucks&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_14"><div><span class="keyword">And</span> <span class="step val"><span class="param">a contact &quot;Customer&quot;</span> exists with <span class="param">name: &quot;Customer&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_15"><div><span class="keyword">And</span> <span class="step val"><span class="param">a match &quot;m1&quot;</span> exists</span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_16"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">total_amount: &quot;-2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Starbucks&quot;, match: match &quot;m1&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_17"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">total_amount: &quot;2.99&quot;, currency: &quot;USD&quot;, account: account &quot;Coffee&quot;, sender: contact &quot;Starbucks&quot;, recipient: contact &quot;Self&quot;, match: match &quot;m1&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_18"><div><span class="keyword">And</span> <span class="step val"><span class="param">a match &quot;m2&quot;</span> exists</span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_19"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">total_amount: &quot;100&quot;, currency: &quot;USD&quot;, account: account &quot;Bank A/C&quot;, sender: contact &quot;Self&quot;, recipient: contact &quot;Customer&quot;, match: match &quot;m2&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_20"><div><span class="keyword">And</span> <span class="step val"><span class="param">a ledger_item</span> exists with <span class="param">total_amount: &quot;-100&quot;, currency: &quot;USD&quot;, account: account &quot;Sales&quot;, sender: contact &quot;Customer&quot;, recipient: contact &quot;Self&quot;, match: match &quot;m2&quot;</span></span></div></li></ol></div><div class="scenario"><h3><span class="keyword">Scenario:</span> <span class="val">View income statement</span></h3><ol><li class="step passed" id="features_010_generate_income_statement_feature_23"><div><span class="keyword">Given</span> <span class="step val">I am on <span class="param">path &quot;/reports/income_statement&quot;</span></span></div></li><li class="step passed" id="features_010_generate_income_statement_feature_24"><div><span class="keyword">Then</span> <span class="step val">I should see &quot;<span class="param">Income Statement</span>&quot; within &quot;<span class="param">#main h1</span>&quot;</span></div></li></ol></div></div><div class="feature"><h2><span class="val">Feature: Generate Balance Sheet</span></h2><p class="narrative">In order to keep the company in order<br/>As a bookkeeper<br/>I want to be able to generate balance sheets<br/></p></div><div class="summary">36 scenarios (36 passed)</div><div class="summary">371 steps (371 passed)</div><div class="duration">0m23.127s</div></div></body></html>